<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>HLS on 杏仁儿的博客</title><link>https://xinrea.cn/tags/hls/</link><description>Recent content in HLS on 杏仁儿的博客</description><generator>Hugo -- 0.152.2</generator><language>zh-CN</language><lastBuildDate>Wed, 01 Oct 2025 00:33:55 +0800</lastBuildDate><atom:link href="https://xinrea.cn/tags/hls/index.xml" rel="self" type="application/rss+xml"/><item><title>直播流缓存的一些事</title><link>https://xinrea.cn/posts/hls-stream-cache/</link><pubDate>Wed, 01 Oct 2025 00:00:00 +0000</pubDate><guid>https://xinrea.cn/posts/hls-stream-cache/</guid><description>&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;1&lt;/span&gt;&lt;span&gt;ffmpeg -i &lt;span style="color:#e6db74"&gt;&amp;#34;https://cn-hnld-ct-01-21.bilivideo.com/live-bvc/536553/live_2124647716_1414766_bluray/index.m3u8?expires=1759252762&amp;amp;len=0&amp;amp;oi=2085476355&amp;amp;pt=h5&amp;amp;qn=10000&amp;amp;trid=1007606c082fc14ab58648aff49d6268dc03&amp;amp;bmt=1&amp;amp;sigparams=cdn,expires,len,oi,pt,qn,trid,bmt&amp;amp;cdn=cn-gotcha01&amp;amp;sign=2416df1332c509e8649435d9512e4465&amp;amp;site=023962dd910109d4c54da396f31556f0&amp;amp;free_type=0&amp;amp;mid=475210&amp;amp;sche=ban&amp;amp;bvchls=1&amp;amp;sid=cn-hnld-ct-01-21&amp;amp;chash=0&amp;amp;sg=lr&amp;amp;trace=8388633&amp;amp;isp=ct&amp;amp;rg=East&amp;amp;pv=Shanghai&amp;amp;deploy_env=prod&amp;amp;score=42&amp;amp;p2p_type=-1&amp;amp;sl=2&amp;amp;strategy_types=1&amp;amp;codec=0&amp;amp;strategy_version=latest&amp;amp;hdr_type=0&amp;amp;source=puv3_onetier&amp;amp;long_ab_id=45&amp;amp;strategy_ids=11&amp;amp;hot_cdn=57345&amp;amp;suffix=bluray&amp;amp;origin_bitrate=8128&amp;amp;long_ab_flag=live_default_longitudinal&amp;amp;sk=11e6e03140d4fe707653c968459991d32b386f4c30439c091581a0d0389f9eb4&amp;amp;media_type=0&amp;amp;long_ab_flag_value=test&amp;amp;pp=rtmp&amp;amp;info_source=origin&amp;amp;flvsk=7b9ca197a822eebb7933bf2a49b49d0f2b5784eba95887cea6a1ec4d52e303b6&amp;amp;vd=nc&amp;amp;zoneid_l=151355393&amp;amp;sid_l=live_2124647716_1414766_bluray&amp;amp;src=puv3&amp;amp;order=1&amp;#34;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;2&lt;/span&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -hls*list_size &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;3&lt;/span&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -hls_time &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;4&lt;/span&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -hls_flags append_list+program_date_time &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;5&lt;/span&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -hls_segment_filename &lt;span style="color:#e6db74"&gt;&amp;#34;cache*%Y%m%d*%H%M%S*%03d.ts&amp;#34;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;6&lt;/span&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -strftime &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;7&lt;/span&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; -c copy &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;8&lt;/span&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;&lt;/span&gt; playlist.m3u8
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item></channel></rss>